'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.getSites=void 0;var _fs=require('fs'),getSites=exports.getSites=function(b){function c(h){if(h&&h.type&&'Router'===h.type.displayName)return h;if(!h||!h.props||!h.props.children)return null;var i=h.props.children;return Array.isArray(h.props.children)||(i=[h.props.children]),i.find(function(j){return!!c(j)})}function d(h){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'/';if(h&&h.type&&h.type.displayName.includes('Redirect'))return[];var j=[],k=h.props.path||'';return f(e(k).map(function(l){return i+l}),function(l){return h.props.children?j.concat(f(h.props.children,function(m){return d(m,l)})):j.concat(l)})}function e(h){var i=/\(.*?\)/g,j=/:[^\/]*/g,k=[];return i.test(h)&&k.push(h.replace(i,'').replace(/\/+$/,'')),j.test(h)&&k.push(h.replace(j,'*').replace(/[\(\)]/,'').replace(/\/+$/,'')),k.length||k.push(h),k}function f(){var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1];return h.reduce(function(j,k){return j.concat(i.call(null,k))},[])}if(!b)return console.error('[ERROR] router is NULL'),null;if(b=c(b),!b)return console.error('[ERROR] router is not found'),null;if(!b.props||!b.props.children)return console.error('[ERROR] router don\'t hava children',b),null;var g=b.props.children;return Array.isArray(b.props.children)||(g=[b.props.children]),f(g,function(h){return d(h,'')})};exports.default=function(b){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'',d=arguments[2];try{var e=getSites(b);return(0,_fs.writeFileSync)(d,e.map(function(f){return c+f}).join('\r\n')),!0}catch(e){return console.error(e),!1}};
